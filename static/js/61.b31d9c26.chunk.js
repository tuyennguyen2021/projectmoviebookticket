"use strict";(self.webpackChunkmovie_bookingv2=self.webpackChunkmovie_bookingv2||[]).push([[61],{5448:function(e,n,t){t.d(n,{o:function(){return o}});var i=t(3144),s=t(5671),a=t(136),c=t(7277),r=t(9838),h=t(5537),l=function(e){(0,a.Z)(t,e);var n=(0,c.Z)(t);function t(){var e;return(0,s.Z)(this,t),(e=n.call(this)).layChiTietPhongVe=function(n){return e.get("api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=".concat(n))},e.datVe=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new h.D;return e.post("api/QuanLyDatVe/DatVe",n)},e.taoLichChieu=function(n){return e.post("api/QuanLyDatVe/TaoLichChieu",n)},e}return(0,i.Z)(t)}(r.y),o=new l},7099:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i=t(1413),s=t(9439),a=t(2791),c=t(6871),r=t(3504),h=t(6210),l=t(1830),o=t.n(l),d=t(3585),x=t(6403),u=t(763),m=t.n(u),g=t(5537),f=t(5945),p=t(3503),v=t(7309),j=t(4165),b=t(5861),N=t(5448),w=t(6721),y=t(151),D=function(e){return function(){var n=(0,b.Z)((0,j.Z)().mark((function n(t){var i,s;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(y.R),n.next=4,N.o.layChiTietPhongVe(e);case 4:return 200===(i=n.sent).status&&t({type:w.qZ,chiTietPhongVe:i.data.content}),n.next=8,t(y.T);case 8:console.log(i,"result"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(null===(s=n.t0.reponse)||void 0===s?void 0:s.data,"errors");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},k=t(9434),C=t(732);var Z=t.p+"static/media/P.11c203b293f8a68e7b9d165f2741eafd.svg";var T=t.p+"static/media/PP.ac5891c6edea2a656377bb1664181d0b.svg",V=t(8944),L=t(184);var B=function(){var e=(0,a.useState)(!1),n=(0,s.Z)(e,2),t=n[0],l=n[1],u=function(){return(0,L.jsxs)("div",{className:"my-2",children:[(0,L.jsx)(f.Z,{title:"M\xe0n h\xecnh c\xe1ch d\xe3y gh\u1ebf \u0111\u1ea7u 2m",children:(0,L.jsx)("div",{className:"bg-white shadow-lg rounded-t-full",style:{width:"100%",height:28},children:(0,L.jsx)("h1",{className:"text-center text-[#753BBD] font-bold leading-8 mb-2",children:"M\xe0n H\xecnh"})})}),(0,L.jsx)("div",{className:"-mx-2 text-center",children:F.map((function(e,n){var t="Vip"==e.loaiGhe?"gheVip":"",i=1==e.daDat?"gheDaDat":"",s="";H.taiKhoan===e.taiKhoanNguoiDat&&(s="gheDaDuocDat");var c=q.findIndex((function(n){return n.maGhe===e.maGhe}));(-1!=c&&(i="gheDangDat"),5===q.length)&&o().fire({title:"L\u01b0u \xfd!!!",html:"B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c ph\xe9p \u0111\u1eb7t t\u1ed1i \u0111a 5 gh\u1ebf c\xf9ng m\u1ed9t l\xfac th\xf4i nh\xe9 :)",timer:3e3,timerProgressBar:!1,willClose:function(){clearInterval(undefined)}});return console.log(q.length,"ghe length"),(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)("button",{onClick:function(){Q({type:w.v$,gheDuocChon:e})},disabled:e.daDat,className:"ghe ".concat(t," ").concat(""," ").concat(i," ").concat(s),children:e.daDat?(0,L.jsx)(C.Z,{className:"font-black",style:{marginBottom:7.5,fontWeight:"bold"}}):e.stt}),(n+1)%16===0?(0,L.jsx)("br",{}):""]},n)}))}),(0,L.jsxs)("div",{className:"container lg:ml-8 text-white",children:[(0,L.jsx)("h1",{className:"text-white",children:"Ghi ch\xfa:"}),(0,L.jsxs)("div",{className:"grid grid-cols-5 -mt-3",children:[(0,L.jsxs)("div",{className:"flex items-center",children:[(0,L.jsx)("button",{className:"ghe"}),(0,L.jsx)("span",{children:"Gh\u1ebf tr\u1ed1ng"})]}),(0,L.jsxs)("div",{className:"flex items-center",children:[(0,L.jsx)("button",{className:"ghe gheDangDat"}),(0,L.jsx)("span",{children:"Gh\u1ebf \u0111ang ch\u1ecdn"})]}),(0,L.jsxs)("div",{className:"flex items-center",children:[(0,L.jsx)("button",{className:"ghe gheDaDuocDat"}),(0,L.jsx)("span",{children:"Gh\u1ebf b\u1ea1n \u0111\xe3 \u0111\u1eb7t"})]}),(0,L.jsxs)("div",{className:"flex items-center",children:[(0,L.jsx)("button",{className:"ghe gheVip"}),(0,L.jsx)("span",{children:"Gh\u1ebf VIP "})]}),(0,L.jsxs)("div",{className:"flex items-center",children:[(0,L.jsx)("button",{className:"ghe gheDaDat"}),(0,L.jsx)("span",{children:"Gh\u1ebf \u0111\xe3 b\xe1n"})]})]})]})]})},B=function(){var e=!0===t?"bg-[#753BBD] border-none hover:bg-white hover:text-[#753BBD] hover:font-bold leading-5":"";return(0,L.jsx)("div",{className:"mt-20",children:(0,L.jsx)("div",{className:"container ",children:(0,L.jsxs)("div",{className:"row flex flex-col justify-between items-center",children:[(0,L.jsxs)("div",{onClick:function(){l(!0),o().fire({title:"B\u1ea1n ch\u1ecdn giao d\u1ecbch tr\u1ef1c ti\u1ebfp t\u1ea1i qu\u1ea7y",icon:"success",timer:3e3}),t&&o().fire({title:"B\u1ea1n \u0111\xe3 thanh to\xe1n tr\u01b0\u1edbc \u0111\xf3",icon:"warning",timer:3e3})},class:"px-6 py-3 text-lg ".concat(e," text-center text-white border-white border-2 rounded-full cursor-pointer mb-5 transition leading-5"),children:["Thanh to\xe1n t\u1ea1i qu\u1ea7y"," ",1==t?(0,L.jsx)("span",{className:"text-green-700 text-2xl font-bold",children:(0,L.jsx)(V.Z,{})}):""]}),(0,L.jsx)("div",{className:"px-6 py-3 text-lg text-white hover:bg-white bg-[#753BBD] rounded-full cursor-pointer",children:(0,L.jsxs)("div",{onClick:function(){o().fire({title:"L\u1ed7i..!",text:"H\u1ec7 th\u1ed1ng thanh to\xe1n \u0111ang b\u1ea3o tr\xec",icon:"warning",timer:3e3})},className:"flex items-center justify-around",children:[(0,L.jsx)("img",{src:Z,alt:"123",className:"mr-1"}),(0,L.jsx)("img",{src:T,alt:"123"})]})}),(0,L.jsxs)("div",{className:"flex items-center py-3",children:[(0,L.jsx)("input",{type:"checkbox",color:"primary",disabled:!0,checked:!0,inputProps:{"aria-label":"disabled checked checkbox"},className:"mr-2"}),(0,L.jsx)("div",{className:"text-white",children:"T\xf4i \u0111\u1ed3ng \xfd \u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng v\xe0 v\xe9 mua kh\xf4ng th\u1ec3 ho\xe0n l\u1ea1i ."})]})]})})})},P=function(){return(0,L.jsx)("div",{className:"my-4 min-w-fit",children:(0,L.jsxs)("p",{className:"text-white text-xl",children:["C\u1ea3m \u01a1n b\u1ea1n \u0111\xe3 s\u1eed d\u1ee5ng d\u1ecbch v\u1ee5 c\u1ee7a ch\xfang t\xf4i.",(0,L.jsx)("br",{}),"H\xe3y ki\u1ec3m tra email \u0111\u1ec3 bi\u1ebft k\u1ebft qu\u1ea3 giao d\u1ecbch.",(0,L.jsx)("br",{}),"Ch\xfac b\u1ea1n c\xf3 m\u1ed9t bu\u1ed5i xem phim vui v\u1ebb , h\u1eb9n g\u1eb7p c\xe1c b\u1ea1n t\u1ea1i r\u1ea1p. ",(0,L.jsx)("br",{}),"B\u1ea1n mu\u1ed1n ki\u1ec3m tra l\u1ecbch s\u1eed giao d\u1ecbch h\xe3y nh\u1ea5n n\xfat b\xean d\u01b0\u1edbi."]})})},G=p.Z.Step,S=[{title:"Ch\u1ecdn Gh\u1ebf",content:(0,L.jsx)(u,{})},{title:"Ch\u1ecdn Ph\u01b0\u01a1ng Th\u1ee9c Thanh To\xe1n",content:(0,L.jsx)(B,{})},{title:"Ho\xe0n Th\xe0nh",content:(0,L.jsx)(P,{})}],I={backgroundImage:"url(".concat(x,")"),minHeight:"100vh",backgroundSize:"cover",backgroundPosition:"center",zIndex:"10",backgroundRepeat:"no-repeat"},H=(0,k.v9)((function(e){return e.quanLyNguoiDungReducer})).userLogin,R=(0,k.v9)((function(e){return e.QuanLyDatVeReducer})),K=R.chiTietPhongVe,q=R.danhSachGheDangDat,M=(R.danhSachGheKhachDat,(0,c.UO)().id),Q=(0,k.I0)();(0,a.useEffect)((function(){Q(D(M))}),[]);var z=K.thongTinPhim,F=K.danhSachGhe;console.log({thongTinPhim:z});var O=q.reduce((function(e,n,t){return e+n.giaVe}),0).toLocaleString(),E=(0,a.useState)(0),U=(0,s.Z)(E,2),_=U[0],A=U[1],W=function(){A(_+1)};return localStorage.getItem(h.bc)?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(d.Z,{}),(0,L.jsx)("div",{style:(0,i.Z)({},I),className:" min-h-srceen pt-20",children:(0,L.jsx)("section",{children:(0,L.jsx)("div",{className:"container py-18",children:(0,L.jsxs)("div",{className:"grid grid-cols-12",children:[(0,L.jsx)("div",{className:"col-span-12 xl:col-span-9",children:(0,L.jsxs)("div",{className:"flex flex-col items-center mx-12 ",children:[(0,L.jsx)(p.Z,{current:_,size:"small",responsive:"false",className:"w-full ",children:S.map((function(e){return(0,L.jsx)(G,{title:e.title,className:"py-2"},e.title)}))}),(0,L.jsx)("div",{className:"steps-content w-full",children:S[_].content}),(0,L.jsxs)("div",{className:"steps-action shadow-2xl",children:[0===_&&(0,L.jsx)(v.Z,{className:"xacNhan",onClick:function(){q.length>0?(W(),o().fire({title:"Vui l\xf2ng ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n",icon:"warning",text:"B\u1ea1n kh\xf4ng th\u1ec3 ch\u1ecdn l\u1ea1i gh\u1ebf khi \u0111\xe3 ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n",confirmButtonText:"OK"})):o().fire({title:"Ch\u1ecdn t\u1ed1i thi\u1ec3u 1 gh\u1ebf \u0111\u1ec3 \u0111\u1eb7t v\xe9",icon:"warning",timer:3e3})},children:"X\xe1c nh\u1eadn"}),1===_&&1==t&&(0,L.jsx)(v.Z,{className:"xacNhan",onClick:function(){W();var e=new g.D;e.maLichChieu=M,e.danhSachVe=q,Q(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new g.D;return function(){var n=(0,b.Z)((0,j.Z)().mark((function n(t){var i;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(y.R),n.next=4,N.o.datVe(e);case 4:if(200!==(i=n.sent).status){n.next=15;break}return n.next=8,o().fire({title:"\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng!!!",html:"Ch\xfac b\u1ea1n xem phim vui v\u1ebb",timer:3e3,timerProgressBar:!1,willClose:function(){clearInterval(void 0)}});case 8:return console.log(i.data.content),n.next=11,t({type:w.Ub});case 11:return n.next=13,t(D(e.maLichChieu));case 13:return n.next=15,t(y.T);case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(0),t(y.T),console.log(n.t0.reponse.data);case 21:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e){return n.apply(this,arguments)}}()}(e))},children:"\u0110\u1eb7t V\xe9"}),_===S.length-1&&(0,L.jsx)(r.OL,{to:"/history",children:(0,L.jsx)(v.Z,{className:"xacNhan shadow-lg",type:"primary",children:"L\u1ecbch s\u1eed \u0111\u1eb7t v\xe9"})}),1==_&&(0,L.jsx)(v.Z,{className:"chonLai shadow-lg",style:{margin:"0 8px"},onClick:function(){!1===t?A(_-1):o().fire({icon:"error",title:"B\u1ea1n kh\xf4ng th\u1ec3 ch\u1ecdn l\u1ea1i gh\u1ebf",timer:3e3})},children:"Ch\u1ecdn L\u1ea1i"})]})]})}),(0,L.jsxs)("div",{className:"col-span-12 xl:col-span-3 text-white h-full",children:[(0,L.jsx)("h1",{className:"text-white font-bold text-center text-2xl",children:"TH\xd4NG TIN \u0110\u1eb6T PHIM"}),(0,L.jsx)("div",{className:"grid justify-items-center ",children:(0,L.jsx)("img",{src:z.hinhAnh,alt:"123",className:"rounded-xl shadow-lg h-[260px]"})}),(0,L.jsxs)("h3",{className:"text-xl text-white my-4 font-bold",children:["Phim: ",z.tenPhim]}),(0,L.jsxs)("p",{className:"",children:["\u0110\u1ecba \u0110i\u1ec3m: ",z.tenCumRap," - ",z.tenRap," "]}),(0,L.jsxs)("p",{children:["Ng\xe0y Chi\u1ebfu:",z.ngayChieu," - ",z.gioChieu," "]}),(0,L.jsx)("hr",{}),(0,L.jsx)("div",{children:(0,L.jsxs)("p",{children:["Email: ",H.email]})}),(0,L.jsx)("div",{children:(0,L.jsxs)("p",{children:["S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i: ",H.soDT]})}),(0,L.jsx)("div",{children:(0,L.jsxs)("p",{children:["T\xe0i Kho\u1ea3n: ",H.taiKhoan]})}),(0,L.jsx)("hr",{}),(0,L.jsxs)("div",{className:"flex flex-row my-4",children:[(0,L.jsxs)("div",{className:"w-4/5",children:[(0,L.jsx)("span",{className:"text-white font-semibold",children:"Gh\u1ebf:"}),m().sortBy(q,["stt"]).map((function(e,n){return(0,L.jsx)("span",{className:"text-green-600 text-xl ml-2",children:e.stt},n)}))]}),(0,L.jsx)("div",{className:"text-right col-span-1",children:(0,L.jsxs)("span",{className:"text-white text-lg",children:[O,"\u0111"]})})]}),(0,L.jsx)("hr",{}),(0,L.jsx)("div",{className:"my-4 font-bold text-xl",children:(0,L.jsxs)("p",{children:["T\u1ed5ng Ti\u1ec1n: ",O,"\u0111"]})})]})]})})})})]}):o().fire({title:"L\u1ed7i...",text:"Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 \u0111\u1eb7t v\xe9!",icon:"warning"})&&(0,L.jsx)(c.Fg,{replace:!0,to:"/"})}},5537:function(e,n,t){t.d(n,{D:function(){return a}});var i=t(3144),s=t(5671),a=(0,i.Z)((function e(){(0,s.Z)(this,e),this.maLichChieu=0,this.danhSachVe=[]}))},6403:function(e,n,t){e.exports=t.p+"static/media/backgroundBook.39ce3f1dd884e2e295be.jpg"}}]);
//# sourceMappingURL=61.b31d9c26.chunk.js.map