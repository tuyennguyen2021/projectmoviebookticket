"use strict";(self.webpackChunkmovie_bookingv2=self.webpackChunkmovie_bookingv2||[]).push([[625],{1267:function(t,n,e){e.d(n,{B0:function(){return h},CF:function(){return f},Hc:function(){return l},Vi:function(){return d},cJ:function(){return m},xA:function(){return p}});var r=e(4165),o=e(5861),a=e(6721),c=e(3187),i=e(151),u=e(1830),s=e.n(u),h=function(){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(i.R),t.next=4,c.M.getListFilm();case 4:return e=t.sent,n({type:a.ED,arrListMovie:e.data.content}),t.next=8,n(i.T);case 8:console.log(e,"result"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(n){return t.apply(this,arguments)}}()},l=function(t){return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.M.layThongTinPhim(t);case 3:o=n.sent,e({type:a.RW,thongTinPhim:o.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("errors",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},m=function(t){return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){var o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.M.layDanhSachPhimKeyWord(t);case 3:o=n.sent,e({type:a.Uj,arrFilmSearch:o.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0,"errors");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},f=function(t,n){return(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.M.themMoiPhim(t);case 3:if(200!==e.sent.data.statusCode){e.next=8;break}return e.next=7,s().fire({title:"Th\xeam m\u1edbi th\xe0nh c\xf4ng!",icon:"success",html:"T\u1ef1 \u0111\u1ed9ng chuy\u1ec3n sang danh s\xe1ch phim sau 3 gi\xe2y",timer:3e3,timerProgressBar:!0,confirmButtonText:"Ok"});case 7:n(-1,{replace:!0});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s().fire({title:"Error!",text:e.t0.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))},d=function(t){return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{s().fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn xo\xe1 phim n\xe0y?",text:"Thao t\xe1c s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ch\u1eafc ch\u1eafn"}).then((function(n){n.isConfirmed&&(c.M.xoaPhim(t),s().fire("\u0110\xe3 xo\xe1","Phim c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1","success"),e(h()))}))}catch(r){s().fire({title:"Error!",text:r.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"})}case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},p=function(t,n){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(o){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.M.capNhatPhimUpload(t);case 3:if(200!==e.sent.data.statusCode){e.next=10;break}return e.next=7,s().fire({title:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!",icon:"success",html:"T\u1ef1 \u0111\u1ed9ng chuy\u1ec3n sang danh s\xe1ch phim sau 3 gi\xe2y",timer:3e3,timerProgressBar:!0,confirmButtonText:"Ok"});case 7:return e.next=9,o(h());case 9:n("/admin/films",{replace:!0});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s().fire({title:"Error!",text:e.t0.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}},151:function(t,n,e){e.d(n,{R:function(){return o},T:function(){return a}});var r=e(6721),o={type:r.Fh},a={type:r.Uf}},3187:function(t,n,e){e.d(n,{M:function(){return u}});var r=e(3144),o=e(5671),a=e(136),c=e(7277),i=e(6210),u=new(function(t){(0,a.Z)(e,t);var n=(0,c.Z)(e);function e(){var t;return(0,o.Z)(this,e),(t=n.call(this)).getListFilm=function(){return t.get("api/QuanLyPhim/LayDanhSachPhim?maNhom=".concat(i.ZG))},t.getListBanner=function(){return t.get("api/QuanLyPhim/LayDanhSachBanner")},t.layDanhSachPhimKeyWord=function(n){return t.get("api/QuanLyPhim/LayDanhSachPhim?maNhom=".concat(i.ZG,"&tenPhim=").concat(n))},t.layThongTinPhim=function(n){return t.get("/api/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(n))},t.themMoiPhim=function(n){return t.post("/api/QuanLyPhim/ThemPhimUploadHinh",n)},t.xoaPhim=function(n){return t.delete("/api/QuanLyPhim/XoaPhim?MaPhim=".concat(n))},t.capNhatPhimUpload=function(n){return t.post("/api/QuanLyPhim/CapNhatPhimUpload",n)},t}return(0,r.Z)(e)}(e(9838).y))},9838:function(t,n,e){e.d(n,{y:function(){return u}});var r=e(3144),o=e(5671),a=e(4569),c=e.n(a),i=e(6210),u=(0,r.Z)((function t(){(0,o.Z)(this,t),this.put=function(t,n){return c()({url:"".concat(i.yK,"/").concat(t),method:"PUT",data:n,headers:{TokenCybersoft:i.L0,Authorization:"Bearer "+localStorage.getItem(i.o3)}})},this.post=function(t,n){return c()({url:"".concat(i.yK,"/").concat(t),method:"POST",data:n,headers:{TokenCybersoft:i.L0,Authorization:"Bearer "+localStorage.getItem(i.o3)}})},this.get=function(t){return c()({url:"".concat(i.yK,"/").concat(t),method:"GET",headers:{TokenCybersoft:i.L0,Authorization:"Bearer "+localStorage.getItem(i.o3)}})},this.delete=function(t){return c()({url:"".concat(i.yK,"/").concat(t),method:"DELETE",headers:{TokenCybersoft:i.L0,Authorization:"Bearer "+localStorage.getItem(i.o3)}})}}))},1625:function(t,n,e){e.r(n),e.d(n,{default:function(){return p}});var r=e(9439),o=e(2791),a=e(1752),c=e(2622),i=e(9168),u=e(5),s=e(523),h=e(9434),l=e(1267),m=e(3504),f=e(6871),d=e(184);function p(){var t=(0,h.v9)((function(t){return t.listMovieReducer})).arrFilmDefault,n=(0,h.v9)((function(t){return t.listMovieReducer})).arrFilmSearch;console.log(n,"arrFilmSearch12"),console.log(t,"arrFilmDefault123");var e=(0,o.useRef)(null),p=(0,o.useState)(""),v=(0,r.Z)(p,2),x=v[0],g=v[1],y=(0,h.I0)();(0,o.useEffect)((function(){y((0,l.B0)())}),[y]);var P=[{title:"M\xe3 Phim",dataIndex:"maPhim",sorter:function(t,n){return t.maPhim-n.maPhim},sortDirections:["descend","ascend"],width:"5%"},{title:"T\xean Phim",dataIndex:"tenPhim",sorter:function(t,n){return t.tenPhim.toLowerCase().trim()>n.tenPhim.toLowerCase().trim()?1:-1},sortDirections:["descend","ascend"],width:"15%"},{title:"H\xecnh \u1ea3nh",dataIndex:"hinhAnh",render:function(t,n){return(0,d.jsx)(o.Fragment,{children:(0,d.jsx)("img",{style:{width:80,height:110,borderRadius:5},src:n.hinhAnh,alt:n.hinhAnh,onError:function(n){n.target.onError=null,n.target.src="https://picsum.photos/id/".concat(t,"/50/50")}})})},width:"10%"},{title:"M\xf4 t\u1ea3",dataIndex:"moTa",sortDirections:["descend","ascend"],width:"50%"},{title:"H\xe0nh \u0110\u1ed9ng",dataIndex:"hanhDong",sortDirections:["descend","ascend"],width:"20%",render:function(t,n){return(0,d.jsxs)("div",{className:"pl-10",children:[(0,d.jsxs)(m.OL,{className:" mr-2  text-2xl ",to:"/admin/films/edit/".concat(n.maPhim),children:[(0,d.jsx)(a.Z,{style:{color:"blue"}})," "]},1),(0,d.jsxs)("span",{onClick:function(){y((0,l.Vi)(n.maPhim))},className:"text-2xl mr-2 cursor-pointer",to:"/",children:[(0,d.jsx)(c.Z,{style:{color:"red"}})," "]},2),(0,d.jsx)(m.OL,{className:"text-2xl ",to:"/admin/films/showtime/".concat(n.maPhim,"/").concat(n.tenPhim),children:(0,d.jsx)(i.Z,{style:{color:"green"}})},3)]})}}],Z=t;return(0,d.jsxs)("div",{children:[(0,d.jsx)(u.Z,{className:"mb-5 w-25",placeholder:"Nh\u1eadp v\xe0o t\xean phim b\u1ea1n mu\u1ed1n t\xecm ki\u1ebfm",value:x,onChange:function(t){g(t)},options:null===n||void 0===n?void 0:n.map((function(t){return{lable:t.tenPhim,value:t.tenPhim}})),onSelect:function(t,n){g(n.label),y((0,l.cJ)(t))},onSearch:function(t){e.current&&clearTimeout(e.current),e.current=setTimeout((function(){y(""===t?(0,l.B0)():(0,l.cJ)(t))}),800)},style:{width:"100%",height:50}}),(0,d.jsx)(s.Z,{columns:P,dataSource:Z,onChange:function(t,n,e,r){console.log("params",t,n,e,r)}}),";",(0,d.jsx)(f.j3,{})]})}},9168:function(t,n,e){e.d(n,{Z:function(){return u}});var r=e(1413),o=e(2791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},c=e(3717),i=function(t,n){return o.createElement(c.Z,(0,r.Z)((0,r.Z)({},t),{},{ref:n,icon:a}))};i.displayName="CalendarOutlined";var u=o.forwardRef(i)}}]);
//# sourceMappingURL=625.951d8726.chunk.js.map