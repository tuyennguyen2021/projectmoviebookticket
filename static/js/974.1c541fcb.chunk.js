"use strict";(self.webpackChunkmovie_bookingv2=self.webpackChunkmovie_bookingv2||[]).push([[974],{1267:function(e,n,t){t.d(n,{B0:function(){return s},CF:function(){return f},Hc:function(){return l},Vi:function(){return d},cJ:function(){return m},xA:function(){return p}});var r=t(4165),a=t(5861),i=t(6721),o=t(3187),c=t(151),u=t(1830),h=t.n(u),s=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(c.R),e.next=4,o.M.getListFilm();case 4:return t=e.sent,n({type:i.ED,arrListMovie:t.data.content}),e.next=8,n(c.T);case 8:console.log(t,"result"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.M.layThongTinPhim(e);case 3:a=n.sent,t({type:i.RW,thongTinPhim:a.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("errors",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},m=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.M.layDanhSachPhimKeyWord(e);case 3:a=n.sent,t({type:i.Uj,arrFilmSearch:a.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0,"errors");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e,n){return(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.M.themMoiPhim(e);case 3:if(200!==t.sent.data.statusCode){t.next=8;break}return t.next=7,h().fire({title:"Th\xeam m\u1edbi th\xe0nh c\xf4ng!",icon:"success",html:"T\u1ef1 \u0111\u1ed9ng chuy\u1ec3n sang danh s\xe1ch phim sau 3 gi\xe2y",timer:3e3,timerProgressBar:!0,confirmButtonText:"Ok"});case 7:n(-1,{replace:!0});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),h().fire({title:"Error!",text:t.t0.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))},d=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{h().fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn xo\xe1 phim n\xe0y?",text:"Thao t\xe1c s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ch\u1eafc ch\u1eafn"}).then((function(n){n.isConfirmed&&(o.M.xoaPhim(e),h().fire("\u0110\xe3 xo\xe1","Phim c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1","success"),t(s()))}))}catch(r){h().fire({title:"Error!",text:r.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"})}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},p=function(e,n){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.M.capNhatPhimUpload(e);case 3:if(200!==t.sent.data.statusCode){t.next=10;break}return t.next=7,h().fire({title:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!",icon:"success",html:"T\u1ef1 \u0111\u1ed9ng chuy\u1ec3n sang danh s\xe1ch phim sau 3 gi\xe2y",timer:3e3,timerProgressBar:!0,confirmButtonText:"Ok"});case 7:return t.next=9,a(s());case 9:n("/admin/films",{replace:!0});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),h().fire({title:"Error!",text:t.t0.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}},151:function(e,n,t){t.d(n,{R:function(){return a},T:function(){return i}});var r=t(6721),a={type:r.Fh},i={type:r.Uf}},3187:function(e,n,t){t.d(n,{M:function(){return u}});var r=t(3144),a=t(5671),i=t(136),o=t(7277),c=t(6210),u=new(function(e){(0,i.Z)(t,e);var n=(0,o.Z)(t);function t(){var e;return(0,a.Z)(this,t),(e=n.call(this)).getListFilm=function(){return e.get("api/QuanLyPhim/LayDanhSachPhim?maNhom=".concat(c.ZG))},e.getListBanner=function(){return e.get("api/QuanLyPhim/LayDanhSachBanner")},e.layDanhSachPhimKeyWord=function(n){return e.get("api/QuanLyPhim/LayDanhSachPhim?maNhom=".concat(c.ZG,"&tenPhim=").concat(n))},e.layThongTinPhim=function(n){return e.get("/api/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(n))},e.themMoiPhim=function(n){return e.post("/api/QuanLyPhim/ThemPhimUploadHinh",n)},e.xoaPhim=function(n){return e.delete("/api/QuanLyPhim/XoaPhim?MaPhim=".concat(n))},e.capNhatPhimUpload=function(n){return e.post("/api/QuanLyPhim/CapNhatPhimUpload",n)},e}return(0,r.Z)(t)}(t(9838).y))},9838:function(e,n,t){t.d(n,{y:function(){return u}});var r=t(3144),a=t(5671),i=t(4569),o=t.n(i),c=t(6210),u=(0,r.Z)((function e(){(0,a.Z)(this,e),this.put=function(e,n){return o()({url:"".concat(c.yK,"/").concat(e),method:"PUT",data:n,headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})},this.post=function(e,n){return o()({url:"".concat(c.yK,"/").concat(e),method:"POST",data:n,headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})},this.get=function(e){return o()({url:"".concat(c.yK,"/").concat(e),method:"GET",headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})},this.delete=function(e){return o()({url:"".concat(c.yK,"/").concat(e),method:"DELETE",headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})}}))},4974:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(9439),a=t(2791),i=t(1541),o=t(7031),c=t(6679),u=t(5581),h=t(3344),s=t(5705),l=t(2426),m=t.n(l),f=t(9434),d=t(6210),p=t(6871),g=t(1267),x=t(184);function y(){var e,n=(0,p.s0)(),t=(0,a.useState)(""),l=(0,r.Z)(t,2),y=l[0],v=l[1],Z=(0,f.I0)(),C=(0,s.TA)({initialValues:{tenPhim:"",trailer:"",moTa:"",ngayKhoiChieu:"",dangChieu:!1,sapChieu:!1,hot:!1,danhGia:0,hinhAnh:{}},onSubmit:function(e){e.maNhom=d.ZG;var t=new FormData;for(var r in e)"hinhAnh"!==r?t.append(r,e[r]):t.append("File",e.hinhAnh,e.hinhAnh.name);Z((0,g.CF)(t,n))}}),b=function(e){return function(n){C.setFieldValue(e,n)}};return(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)(i.Z,{onSubmitCapture:C.handleSubmit,labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",children:[(0,x.jsx)(i.Z.Item,{label:"T\xean phim",children:(0,x.jsx)(o.Z,{name:"tenPhim",onChange:C.handleChange})}),(0,x.jsx)(i.Z.Item,{label:"Trailer",children:(0,x.jsx)(o.Z,{name:"trailer",onChange:C.handleChange})}),(0,x.jsx)(i.Z.Item,{label:"M\xf4 t\u1ea3",children:(0,x.jsx)(o.Z,{name:"moTa",onChange:C.handleChange})}),(0,x.jsx)(i.Z.Item,{label:"Ng\xe0y kh\u1edfi chi\u1ebfu",children:(0,x.jsx)(c.Z,{format:"DD/MM/YYYY",onChange:function(e){var n=m()(e).format("DD/MM/YYYY");C.setFieldValue("ngayKhoiChieu",n)}})}),(0,x.jsx)(i.Z.Item,{label:"\u0110ang chi\u1ebfu",children:(0,x.jsx)(u.Z,{onChange:b("dangChieu")})}),(0,x.jsx)(i.Z.Item,{label:"S\u1eafp chi\u1ebfu",children:(0,x.jsx)(u.Z,{onChange:b("sapChieu")})}),(0,x.jsx)(i.Z.Item,{label:"Hot",children:(0,x.jsx)(u.Z,{onChange:b("hot")})}),(0,x.jsx)(i.Z.Item,{label:"S\u1ed1 sao (IMDb)",children:(0,x.jsx)(h.Z,{onChange:(e="danhGia",function(n){C.setFieldValue(e,n)}),min:1,max:10})}),(0,x.jsxs)(i.Z.Item,{label:"H\xecnh \u1ea3nh",children:[(0,x.jsx)("input",{type:"file",onChange:function(e){var n=e.target.files[0];if("image/jpeg"===n.type||"image/jpg"===n.type||"image/gif"===n.type||"image/png"===n.type){var t=new FileReader;t.readAsDataURL(n),t.onload=function(e){v(e.target.result)},C.setFieldValue("hinhAnh",n)}},accept:"image/png, image/jpeg,image/gif,image/png"}),(0,x.jsx)("br",{}),(0,x.jsx)("img",{style:{width:150,height:150,borderRadius:8},src:y,alt:"Add an img..."})]}),(0,x.jsx)(i.Z.Item,{label:"T\xe1c v\u1ee5",children:(0,x.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",children:"Th\xeam phim"})})]})})}},5581:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(7462),a=t(4942),i=t(7106),o=t(1694),c=t.n(o),u=t(9439),h=t(4925),s=t(2791),l=t(5179),m=t(1354),f=s.forwardRef((function(e,n){var t,r=e.prefixCls,i=void 0===r?"rc-switch":r,o=e.className,f=e.checked,d=e.defaultChecked,p=e.disabled,g=e.loadingIcon,x=e.checkedChildren,y=e.unCheckedChildren,v=e.onClick,Z=e.onChange,C=e.onKeyDown,b=(0,h.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),T=(0,l.Z)(!1,{value:f,defaultValue:d}),k=(0,u.Z)(T,2),P=k[0],w=k[1];function j(e,n){var t=P;return p||(w(t=e),null===Z||void 0===Z||Z(t,n)),t}var I=c()(i,o,(t={},(0,a.Z)(t,"".concat(i,"-checked"),P),(0,a.Z)(t,"".concat(i,"-disabled"),p),t));return s.createElement("button",Object.assign({},b,{type:"button",role:"switch","aria-checked":P,disabled:p,className:I,ref:n,onKeyDown:function(e){e.which===m.Z.LEFT?j(!1,e):e.which===m.Z.RIGHT&&j(!0,e),null===C||void 0===C||C(e)},onClick:function(e){var n=j(!P,e);null===v||void 0===v||v(n,e)}}),g,s.createElement("span",{className:"".concat(i,"-inner")},P?x:y))}));f.displayName="Switch";var d=f,p=t(1929),g=t(9125),x=t(1815),y=t(2833),v=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},Z=s.forwardRef((function(e,n){var t,o=e.prefixCls,u=e.size,h=e.disabled,l=e.loading,m=e.className,f=void 0===m?"":m,Z=v(e,["prefixCls","size","disabled","loading","className"]),C=s.useContext(p.E_),b=C.getPrefixCls,T=C.direction,k=s.useContext(x.Z),P=s.useContext(g.Z),w=h||P||l,j=b("switch",o),I=s.createElement("div",{className:"".concat(j,"-handle")},l&&s.createElement(i.Z,{className:"".concat(j,"-loading-icon")})),L=c()((t={},(0,a.Z)(t,"".concat(j,"-small"),"small"===(u||k)),(0,a.Z)(t,"".concat(j,"-loading"),l),(0,a.Z)(t,"".concat(j,"-rtl"),"rtl"===T),t),f);return s.createElement(y.Z,{insertExtraNode:!0},s.createElement(d,(0,r.Z)({},Z,{prefixCls:j,className:L,disabled:w,ref:n,loadingIcon:I})))}));Z.__ANT_SWITCH=!0;var C=Z}}]);
//# sourceMappingURL=974.1c541fcb.chunk.js.map