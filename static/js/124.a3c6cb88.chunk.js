"use strict";(self.webpackChunkmovie_bookingv2=self.webpackChunkmovie_bookingv2||[]).push([[124],{1267:function(e,n,t){t.d(n,{B0:function(){return s},CF:function(){return d},Hc:function(){return l},Vi:function(){return f},cJ:function(){return m},xA:function(){return p}});var a=t(4165),r=t(5861),i=t(6721),o=t(3187),c=t(151),u=t(1830),h=t.n(u),s=function(){return function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(c.R),e.next=4,o.M.getListFilm();case 4:return t=e.sent,n({type:i.ED,arrListMovie:t.data.content}),e.next=8,n(c.T);case 8:console.log(t,"result"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()},l=function(e){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.M.layThongTinPhim(e);case 3:r=n.sent,t({type:i.RW,thongTinPhim:r.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("errors",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},m=function(e){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.M.layDanhSachPhimKeyWord(e);case 3:r=n.sent,t({type:i.Uj,arrFilmSearch:r.data.content}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0,"errors");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},d=function(e,n){return(0,r.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.M.themMoiPhim(e);case 3:if(200!==t.sent.data.statusCode){t.next=8;break}return t.next=7,h().fire({title:"Th\xeam m\u1edbi th\xe0nh c\xf4ng!",icon:"success",html:"T\u1ef1 \u0111\u1ed9ng chuy\u1ec3n sang danh s\xe1ch phim sau 3 gi\xe2y",timer:3e3,timerProgressBar:!0,confirmButtonText:"Ok"});case 7:n(-1,{replace:!0});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),h().fire({title:"Error!",text:t.t0.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))},f=function(e){return function(){var n=(0,r.Z)((0,a.Z)().mark((function n(t){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{h().fire({title:"B\u1ea1n ch\u1eafc ch\u1eafn xo\xe1 phim n\xe0y?",text:"Thao t\xe1c s\u1ebd kh\xf4ng th\u1ec3 ho\xe0n l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ch\u1eafc ch\u1eafn"}).then((function(n){n.isConfirmed&&(o.M.xoaPhim(e),h().fire("\u0110\xe3 xo\xe1","Phim c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c xo\xe1","success"),t(s()))}))}catch(a){h().fire({title:"Error!",text:a.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"})}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},p=function(e,n){return function(){var t=(0,r.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.M.capNhatPhimUpload(e);case 3:if(200!==t.sent.data.statusCode){t.next=10;break}return t.next=7,h().fire({title:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!",icon:"success",html:"T\u1ef1 \u0111\u1ed9ng chuy\u1ec3n sang danh s\xe1ch phim sau 3 gi\xe2y",timer:3e3,timerProgressBar:!0,confirmButtonText:"Ok"});case 7:return t.next=9,r(s());case 9:n("/admin/films",{replace:!0});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),h().fire({title:"Error!",text:t.t0.response.data.content,icon:"error",confirmButtonText:"Th\u1eed l\u1ea1i"});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}},151:function(e,n,t){t.d(n,{R:function(){return r},T:function(){return i}});var a=t(6721),r={type:a.Fh},i={type:a.Uf}},3187:function(e,n,t){t.d(n,{M:function(){return u}});var a=t(3144),r=t(5671),i=t(136),o=t(7277),c=t(6210),u=new(function(e){(0,i.Z)(t,e);var n=(0,o.Z)(t);function t(){var e;return(0,r.Z)(this,t),(e=n.call(this)).getListFilm=function(){return e.get("api/QuanLyPhim/LayDanhSachPhim?maNhom=".concat(c.ZG))},e.getListBanner=function(){return e.get("api/QuanLyPhim/LayDanhSachBanner")},e.layDanhSachPhimKeyWord=function(n){return e.get("api/QuanLyPhim/LayDanhSachPhim?maNhom=".concat(c.ZG,"&tenPhim=").concat(n))},e.layThongTinPhim=function(n){return e.get("/api/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(n))},e.themMoiPhim=function(n){return e.post("/api/QuanLyPhim/ThemPhimUploadHinh",n)},e.xoaPhim=function(n){return e.delete("/api/QuanLyPhim/XoaPhim?MaPhim=".concat(n))},e.capNhatPhimUpload=function(n){return e.post("/api/QuanLyPhim/CapNhatPhimUpload",n)},e}return(0,a.Z)(t)}(t(9838).y))},9838:function(e,n,t){t.d(n,{y:function(){return u}});var a=t(3144),r=t(5671),i=t(4569),o=t.n(i),c=t(6210),u=(0,a.Z)((function e(){(0,r.Z)(this,e),this.put=function(e,n){return o()({url:"".concat(c.yK,"/").concat(e),method:"PUT",data:n,headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})},this.post=function(e,n){return o()({url:"".concat(c.yK,"/").concat(e),method:"POST",data:n,headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})},this.get=function(e){return o()({url:"".concat(c.yK,"/").concat(e),method:"GET",headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})},this.delete=function(e){return o()({url:"".concat(c.yK,"/").concat(e),method:"DELETE",headers:{TokenCybersoft:c.L0,Authorization:"Bearer "+localStorage.getItem(c.o3)}})}}))},4124:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var a=t(4165),r=t(5861),i=t(9439),o=t(2791),c=t(1541),u=t(7031),h=t(6679),s=t(5581),l=t(3344),m=t(5705),d=t(2426),f=t.n(d),p=t(9434),g=t(6871),x=t(6210),v=t(1267),y=t(184);function C(){var e=(0,o.useState)(""),n=(0,i.Z)(e,2),t=n[0],d=n[1],C=(0,p.I0)(),Z=(0,p.v9)((function(e){return e.listMovieReducer})).thongTinPhim,b=(0,g.UO)().id;(0,o.useEffect)((function(){C((0,v.Hc)(b))}),[]);var k,P=(0,g.s0)(),T=(0,m.TA)({enableReinitialize:!0,initialValues:{maPhim:Z.maPhim,dangChieu:Z.dangChieu,sapChieu:Z.sapChieu,hot:Z.hot,danhGia:Z.danhGia,tenPhim:Z.tenPhim,trailer:Z.trailer,moTa:Z.moTa,maNhom:x.ZG,ngayKhoiChieu:Z.ngayKhoiChieu,hinhAnh:null},onSubmit:function(e){e.maNhom=x.ZG;var n=new FormData;for(var t in e)"hinhAnh"!==t?n.append(t,e[t]):null!==e.hinhAnh&&n.append("File",e.hinhAnh,e.hinhAnh.name);C((0,v.xA)(n,P))}}),w=function(e){return function(n){T.setFieldValue(e,n)}},j=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image/jpeg"!==(t=n.target.files[0]).type&&"image/jpg"!==t.type&&"image/gif"!==t.type&&"image/png"!==t.type){e.next=7;break}return e.next=4,T.setFieldValue("hinhAnh",t);case 4:(r=new FileReader).readAsDataURL(t),r.onload=function(e){d(e.target.result)};case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)(c.Z,{onSubmitCapture:T.handleSubmit,labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",children:[(0,y.jsxs)("h3",{className:"text-3xl text-center mb-5 text-blue-500",children:["Ch\u1ec9nh s\u1eeda phim"," "]}),(0,y.jsx)(c.Z.Item,{label:"T\xean phim",children:(0,y.jsx)(u.Z,{name:"tenPhim",onChange:T.handleChange,value:T.values.tenPhim})}),(0,y.jsx)(c.Z.Item,{label:"Trailer",children:(0,y.jsx)(u.Z,{name:"trailer",onChange:T.handleChange,value:T.values.trailer})}),(0,y.jsx)(c.Z.Item,{label:"M\xf4 t\u1ea3",children:(0,y.jsx)(u.Z,{name:"moTa",onChange:T.handleChange,value:T.values.moTa})}),(0,y.jsx)(c.Z.Item,{label:"Ng\xe0y kh\u1edfi chi\u1ebfu",children:(0,y.jsx)(h.Z,{onChange:function(e){var n=f()(e);T.setFieldValue("ngayKhoiChieu",n)},format:"DD/MM/YYYY",value:f()(T.values.ngayKhoiChieu)})}),(0,y.jsx)(c.Z.Item,{label:"\u0110ang chi\u1ebfu",children:(0,y.jsx)(s.Z,{name:"dangChieu",onChange:w("dangChieu"),checked:T.values.dangChieu})}),(0,y.jsx)(c.Z.Item,{label:"S\u1eafp chi\u1ebfu",children:(0,y.jsx)(s.Z,{name:"sapChieu",onChange:w("sapChieu"),checked:T.values.sapChieu})}),(0,y.jsx)(c.Z.Item,{label:"Hot",children:(0,y.jsx)(s.Z,{name:"hot",onChange:w("hot"),checked:T.values.hot})}),(0,y.jsx)(c.Z.Item,{label:"S\u1ed1 sao",children:(0,y.jsx)(l.Z,{onChange:(k="danhGia",function(e){T.setFieldValue(k,e)}),value:T.values.danhGia})}),(0,y.jsxs)(c.Z.Item,{label:"H\xecnh \u1ea3nh",children:[(0,y.jsx)("input",{type:"file",onChange:j,accept:"image/png, image/jpeg,image/gif,image/png"}),(0,y.jsx)("br",{}),(0,y.jsx)("img",{width:100,height:100,alt:"img",src:""===t?Z.hinhAnh:t})]}),(0,y.jsx)(c.Z.Item,{label:"Button",children:(0,y.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",children:"C\u1eadp nh\u1eadt"})})]})})}},5581:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(7462),r=t(4942),i=t(7106),o=t(1694),c=t.n(o),u=t(9439),h=t(4925),s=t(2791),l=t(5179),m=t(1354),d=s.forwardRef((function(e,n){var t,a=e.prefixCls,i=void 0===a?"rc-switch":a,o=e.className,d=e.checked,f=e.defaultChecked,p=e.disabled,g=e.loadingIcon,x=e.checkedChildren,v=e.unCheckedChildren,y=e.onClick,C=e.onChange,Z=e.onKeyDown,b=(0,h.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,l.Z)(!1,{value:d,defaultValue:f}),P=(0,u.Z)(k,2),T=P[0],w=P[1];function j(e,n){var t=T;return p||(w(t=e),null===C||void 0===C||C(t,n)),t}var N=c()(i,o,(t={},(0,r.Z)(t,"".concat(i,"-checked"),T),(0,r.Z)(t,"".concat(i,"-disabled"),p),t));return s.createElement("button",Object.assign({},b,{type:"button",role:"switch","aria-checked":T,disabled:p,className:N,ref:n,onKeyDown:function(e){e.which===m.Z.LEFT?j(!1,e):e.which===m.Z.RIGHT&&j(!0,e),null===Z||void 0===Z||Z(e)},onClick:function(e){var n=j(!T,e);null===y||void 0===y||y(n,e)}}),g,s.createElement("span",{className:"".concat(i,"-inner")},T?x:v))}));d.displayName="Switch";var f=d,p=t(1929),g=t(9125),x=t(1815),v=t(2833),y=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},C=s.forwardRef((function(e,n){var t,o=e.prefixCls,u=e.size,h=e.disabled,l=e.loading,m=e.className,d=void 0===m?"":m,C=y(e,["prefixCls","size","disabled","loading","className"]),Z=s.useContext(p.E_),b=Z.getPrefixCls,k=Z.direction,P=s.useContext(x.Z),T=s.useContext(g.Z),w=h||T||l,j=b("switch",o),N=s.createElement("div",{className:"".concat(j,"-handle")},l&&s.createElement(i.Z,{className:"".concat(j,"-loading-icon")})),L=c()((t={},(0,r.Z)(t,"".concat(j,"-small"),"small"===(u||P)),(0,r.Z)(t,"".concat(j,"-loading"),l),(0,r.Z)(t,"".concat(j,"-rtl"),"rtl"===k),t),d);return s.createElement(v.Z,{insertExtraNode:!0},s.createElement(f,(0,a.Z)({},C,{prefixCls:j,className:L,disabled:w,ref:n,loadingIcon:N})))}));C.__ANT_SWITCH=!0;var Z=C}}]);
//# sourceMappingURL=124.a3c6cb88.chunk.js.map